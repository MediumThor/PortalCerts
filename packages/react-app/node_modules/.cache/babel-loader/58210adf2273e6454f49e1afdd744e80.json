{"ast":null,"code":"/**\n * Output Feedback block mode.\n */\nimport { BlockCipherMode } from './cipher-core.js';\nexport class OFB extends BlockCipherMode {}\nOFB.Encryptor = class extends OFB {\n  processBlock(words, offset) {\n    const _words = words;\n\n    // Shortcuts\n    const cipher = this._cipher;\n    const {\n      blockSize\n    } = cipher;\n    const iv = this._iv;\n    let keystream = this._keystream;\n\n    // Generate keystream\n    if (iv) {\n      this._keystream = iv.slice(0);\n      keystream = this._keystream;\n\n      // Remove IV for subsequent blocks\n      this._iv = undefined;\n    }\n    cipher.encryptBlock(keystream, 0);\n\n    // Encrypt\n    for (let i = 0; i < blockSize; i += 1) {\n      _words[offset + i] ^= keystream[i];\n    }\n  }\n};\nOFB.Decryptor = OFB.Encryptor;","map":{"version":3,"names":["BlockCipherMode","OFB","Encryptor","processBlock","words","offset","_words","cipher","_cipher","blockSize","iv","_iv","keystream","_keystream","slice","undefined","encryptBlock","i","Decryptor"],"sources":["/Users/ryan/Desktop/Arcanum/NFTS/tlatc2/node_modules/crypto-es/lib/mode-ofb.js"],"sourcesContent":["/**\n * Output Feedback block mode.\n */\nimport {\n  BlockCipherMode,\n} from './cipher-core.js';\n\nexport class OFB extends BlockCipherMode {\n}\nOFB.Encryptor = class extends OFB {\n  processBlock(words, offset) {\n    const _words = words;\n\n    // Shortcuts\n    const cipher = this._cipher;\n    const { blockSize } = cipher;\n    const iv = this._iv;\n    let keystream = this._keystream;\n\n    // Generate keystream\n    if (iv) {\n      this._keystream = iv.slice(0);\n      keystream = this._keystream;\n\n      // Remove IV for subsequent blocks\n      this._iv = undefined;\n    }\n    cipher.encryptBlock(keystream, 0);\n\n    // Encrypt\n    for (let i = 0; i < blockSize; i += 1) {\n      _words[offset + i] ^= keystream[i];\n    }\n  }\n};\nOFB.Decryptor = OFB.Encryptor;\n"],"mappings":"AAAA;AACA;AACA;AACA,SACEA,eAAe,QACV,kBAAkB;AAEzB,OAAO,MAAMC,GAAG,SAASD,eAAe,CAAC;AAEzCC,GAAG,CAACC,SAAS,GAAG,cAAcD,GAAG,CAAC;EAChCE,YAAYA,CAACC,KAAK,EAAEC,MAAM,EAAE;IAC1B,MAAMC,MAAM,GAAGF,KAAK;;IAEpB;IACA,MAAMG,MAAM,GAAG,IAAI,CAACC,OAAO;IAC3B,MAAM;MAAEC;IAAU,CAAC,GAAGF,MAAM;IAC5B,MAAMG,EAAE,GAAG,IAAI,CAACC,GAAG;IACnB,IAAIC,SAAS,GAAG,IAAI,CAACC,UAAU;;IAE/B;IACA,IAAIH,EAAE,EAAE;MACN,IAAI,CAACG,UAAU,GAAGH,EAAE,CAACI,KAAK,CAAC,CAAC,CAAC;MAC7BF,SAAS,GAAG,IAAI,CAACC,UAAU;;MAE3B;MACA,IAAI,CAACF,GAAG,GAAGI,SAAS;IACtB;IACAR,MAAM,CAACS,YAAY,CAACJ,SAAS,EAAE,CAAC,CAAC;;IAEjC;IACA,KAAK,IAAIK,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGR,SAAS,EAAEQ,CAAC,IAAI,CAAC,EAAE;MACrCX,MAAM,CAACD,MAAM,GAAGY,CAAC,CAAC,IAAIL,SAAS,CAACK,CAAC,CAAC;IACpC;EACF;AACF,CAAC;AACDhB,GAAG,CAACiB,SAAS,GAAGjB,GAAG,CAACC,SAAS"},"metadata":{},"sourceType":"module"}